{"mappings":"qsBAAA,IAAAA,EAAAC,EAAA,S,aASAC,aAAaC,WAAW,6BACxB,MAAMC,EAAUC,SAASC,cAAc,YACjCC,EAAWF,SAASC,cAAc,UAClCE,EAAWH,SAASC,cAAc,UAClCG,EAAYJ,SAASC,cAAc,QACnCI,EAAcL,SAASC,cAAc,UACrCK,EAASN,SAASC,cAAc,gBACtC,IAAIM,EAAU,EAEHC,EAAmB,EACnBC,EAAS,GAEhBC,EAAkB,EAwBtBN,EAAUO,iBAAiB,SAASC,MAAMC,IACxCA,EAAEC,iBACFR,EAAOS,UAAUC,OAAO,UACxBP,EAASJ,EAAYY,MAAMC,OAC3B,MAAMC,QAAa,EAAAxB,EAAAyB,eAAcX,EA1BlB,GA2Bf,GAAYY,MAARF,EAEF,YADAb,EAAOS,UAAUC,OAAO,UAG1B,MAAQM,QAASC,EAAMC,cAAEA,GAAkBL,EAC3CT,EAAkBS,EAAKK,cACvB,MAAMC,EAAaC,KAAKC,UAAUH,GAClC3B,aAAa+B,QAAQ,4BAA6BH,IAClD,EAAAI,EAAAC,cAAaP,IACb,EAAAM,EAAAE,cAAY,GACZvB,EAAmB,EACnBF,EAAOS,UAAUC,OAAO,SAAS,IAGnCd,EAASS,iBAAiB,SAAS,MACjC,EAAAkB,EAAAG,oBAAmBzB,EAAS,UAAU,IAGxCJ,EAASQ,iBAAiB,SAAS,MACjC,EAAAkB,EAAAG,oBAAmBzB,EAAS,QAAQ,IA5CZK,WACxBN,EAAOS,UAAUC,OAAO,UACxB,MAAMG,QAAa,EAAAxB,EAAAsC,aALV,GAMT,GAAYZ,MAARF,EAAmB,OACvB,MAAQG,QAASC,EAAMW,YAAEA,GAAgBf,GAEzC,EAAAU,EAAAC,cAAaP,IACb,EAAAM,EAAAE,cAAY,GAEZhC,EAAQY,iBAAiB,SAASE,IACP,OAArBA,EAAEsB,OAAOC,WACX7B,EAAUM,EAAEsB,OAAOE,IACnB,EAAAR,EAAAS,gBAAe/B,GACfP,SAASW,iBAAiB,QAASkB,EAAAU,Q,IAIvCjC,EAAOS,UAAUC,OAAO,SAAS,EA6BnCwB,E","sources":["src/js/index.js"],"sourcesContent":["import { getTrending, fetchBySearch } from './fetch-functions';\nimport {\n  renderMovies,\n  enableModal,\n  fetchMovieById,\n  escKey,\n  reviewLocalStorage,\n} from './functions';\n\nlocalStorage.removeItem('total-results-from-search'); //en review\nconst gallery = document.querySelector('.gallery');\nconst btnWatch = document.querySelector('.watch');\nconst btnQueue = document.querySelector('.queue');\nconst btnSubmit = document.querySelector('.btn');\nconst inputSearch = document.querySelector('.input');\nconst loader = document.querySelector('.spiner-cont');\nlet movieId = 0;\n\nexport let selectedBySearch = 0;\nexport let string = '';\n\nlet totalPageSearch = 0;\nlet page = 1;\nlet pageSearch = 1;\n\nconst getTrendingMovies = async () => {\n  loader.classList.toggle('hidden');\n  const data = await getTrending(page);\n  if (data == undefined) return;\n  const { results: movies, total_pages } = data;\n\n  renderMovies(movies);\n  enableModal(false);\n\n  gallery.addEventListener('click', e => {\n    if (e.target.nodeName == 'IMG') {\n      movieId = e.target.id;\n      fetchMovieById(movieId);\n      document.addEventListener('keyup', escKey);\n    }\n  });\n\n  loader.classList.toggle('hidden');\n};\n\nbtnSubmit.addEventListener('click', async e => {\n  e.preventDefault();\n  loader.classList.toggle('hidden');\n  string = inputSearch.value.trim();\n  const data = await fetchBySearch(string, pageSearch);\n  if (data == undefined) {\n    loader.classList.toggle('hidden');\n    return;\n  }\n  const { results: movies, total_results } = data;\n  totalPageSearch = data.total_results;\n  const pageString = JSON.stringify(total_results); //convierto en string\n  localStorage.setItem('total-results-from-search', pageString);\n  renderMovies(movies);\n  enableModal(true);\n  selectedBySearch = 1;\n  loader.classList.toggle('hidden');\n});\n\nbtnWatch.addEventListener('click', () => {\n  reviewLocalStorage(movieId, 'watched');\n});\n\nbtnQueue.addEventListener('click', () => {\n  reviewLocalStorage(movieId, 'queue');\n});\ngetTrendingMovies();\n"],"names":["$br7ue","parcelRequire","localStorage","removeItem","$85a5f86b715fe7db$var$gallery","document","querySelector","$85a5f86b715fe7db$var$btnWatch","$85a5f86b715fe7db$var$btnQueue","$85a5f86b715fe7db$var$btnSubmit","$85a5f86b715fe7db$var$inputSearch","$85a5f86b715fe7db$var$loader","$85a5f86b715fe7db$var$movieId","$85a5f86b715fe7db$export$fbe26629eb6829e1","$85a5f86b715fe7db$export$22b082955e083ec3","$85a5f86b715fe7db$var$totalPageSearch","addEventListener","async","e","preventDefault","classList","toggle","value","trim","data","fetchBySearch","undefined","results","movies","total_results","pageString","JSON","stringify","setItem","$gXu43","renderMovies","enableModal","reviewLocalStorage","getTrending","total_pages","target","nodeName","id","fetchMovieById","escKey","$85a5f86b715fe7db$var$getTrendingMovies"],"version":3,"file":"index.569c7d1e.js.map"}