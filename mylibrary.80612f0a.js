var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var c={id:e,exports:{}};return t[e]=c,o.call(c.exports,c,c.exports),c.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o);var c=o("gXu43");document.querySelector(".pagnumber"),document.getElementById("atras"),document.getElementById("siguiente"),document.getElementById("primera"),document.getElementById("ultima");let a=0;function i(e,t){const n=Math.ceil(e/20);a=n;const o=[];if(n<=9)for(let e=1;e<=n;e++)o.push(e);else{o.push(1),t>2&&o.push("...");let e=Math.max(2,t-1),c=Math.min(t+1,n-1);t===n-2&&(e=t-2,c=t);for(let t=e;t<=c;t++)o.push(t);t<n-2&&o.push("..."),o.push(n)}return o}const s=document.querySelector(".btn-watched"),l=document.querySelector(".btn-queue"),d=document.querySelector(".gallery"),r=document.querySelector(".watch"),u=document.querySelector(".queue");let m=0;const g={listado:document.querySelector(".pagnumber"),botonAtras:document.getElementById("atras"),botonSiguiente:document.getElementById("siguiente"),pageOne:document.getElementById("primera"),pageFinal:document.getElementById("ultima")};let v=1,p="movies";const f=(e,t,n)=>{if(d.innerHTML="",t.length>0){const o=[];t.forEach((e=>{e.page==n&&o.push(e)})),console.log(o),(0,c.renderMovies)(o),e?((0,c.enableModal)(!1),d.addEventListener("click",(e=>{"IMG"==e.target.nodeName&&(m=e.target.id,(0,c.fetchMovieById)(m),document.addEventListener("keyup",c.escKey))}))):(0,c.enableModal)(!0)}},y=e=>{const t=q("movies");w=t.length,h(i(w,v),"movies"),f(e,t,v)},L=e=>{const t=q("movies-que");w=t.length,h(i(w,v),"movies-que"),f(e,t,v)};function h(e,t){g.listado.innerHTML="",e.forEach((e=>{const n=document.createElement("button");e==v&&n.classList.add("main-color"),"..."===e?n.textContent="...":(n.textContent=e,n.addEventListener("click",(()=>{v=e;const n=q(t);f(!1,n,v),h(i(w,v),t)}))),g.listado.appendChild(n)}))}l.addEventListener("click",(e=>{d.innerHTML="",v=1,l.classList.add("active"),s.classList.remove("active"),p="movies-que",L(!1)})),s.addEventListener("click",(()=>{d.innerHTML="",v=1,s.classList.add("active"),l.classList.remove("active"),p="movies",y(!1)})),r.addEventListener("click",(async()=>{await(0,c.reviewLocalStorage)(m,"watched"),s.classList.contains("active")&&y(!1)})),u.addEventListener("click",(async()=>{await(0,c.reviewLocalStorage)(m,"queue"),console.log(u),l.classList.contains("active")&&L(!1)})),document.addEventListener("DOMContentLoaded",(()=>{s.classList.add("active"),y(!0)}));let E=0,b=1;function q(e){const t=JSON.parse(localStorage.getItem(e));return console.log("key"+e),t.forEach((e=>{20==E&&(b++,E=0),E++,e.page=b})),console.log(t),M=b,E=0,b=1,t}let M,w=0;g.botonAtras.addEventListener("click",(async()=>{if(v>1){v--;const e=q(p);f(!1,e,v),h(i(w,v),p)}})),g.botonSiguiente.addEventListener("click",(async()=>{if(v<M){v++;const e=q(p);f(!1,e,v),h(i(w,v),p)}}));
//# sourceMappingURL=mylibrary.80612f0a.js.map
