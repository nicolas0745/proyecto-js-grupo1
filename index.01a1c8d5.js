var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a);var o=a("br7ue"),i=a("gXu43"),r=a("btpe3"),l=a("fVT2F");const s={listado:document.querySelector(".pagnumber"),botonAtras:document.getElementById("atras"),botonSiguiente:document.getElementById("siguiente"),pageOne:document.getElementById("primera"),pageFinal:document.getElementById("ultima")},c=document.querySelector(".gallery"),d=document.querySelector(".btn");let u,g,p=1,f=15,m=1e3;function y(e){s.listado.innerHTML="",e.forEach((e=>{const t=document.createElement("button");"..."===e?t.textContent="...":(t.textContent=e,t.addEventListener("click",(()=>{if(p=e,0==r.selectedBySearch){(async()=>{const e=await(0,o.getTrending)(p);if(null==e)return;const{results:n,total_pages:a}=e;(0,i.renderMovies)(n),(0,i.enableModal)(!1),c.addEventListener("click",(e=>{let n=e.target.id;""!=n&&t(n)}))})()}else{g=localStorage.getItem("total-results-from-search"),u=JSON.parse(g),y((0,l.paginationLT)(u,1)),async function(){r.string.trim();const e=await(0,o.fetchBySearch)(r.string,p),{results:n,total_pages:a}=e;(0,i.renderMovies)(n),(0,i.enableModal)(!0),c.addEventListener("click",(e=>{let n=e.target.id;""!=n&&t(n)}))}()}const t=async e=>{const t=await(0,o.fetchById)(e);document.querySelector(".modal-title").textContent=t.original_title.toUpperCase();const n=document.querySelector(".results"),a=document.querySelector(".abouttext"),i=document.querySelector(".img-modal");let r=[];t.genres.forEach((e=>{r.push(" "+e.name)})),n.innerHTML=`<li><span class="span">${t.vote_average}</span> / ${t.vote_count}</li>\n                                    <li>${t.popularity}</li>\n                                    <li>${t.original_title}</li>\n                                    <li>${r}</li>`,a.textContent=t.overview,i.src=`https://image.tmdb.org/t/p/w200${t.poster_path}`};y((0,l.paginationLT)(m,p))}))),s.listado.appendChild(t)}))}!async function(){const e=await(0,o.getTrending)(2);f=e.total_pages,m=e.total_results,y((0,l.paginationLT)(m,1))}(),y((0,l.paginationLT)(m,1)),s.botonAtras.addEventListener("click",(()=>{if(p>1){p--;y((0,l.paginationLT)(m,p))}})),s.botonSiguiente.addEventListener("click",(()=>{if(p<f){p++;y((0,l.paginationLT)(m,p))}})),d.addEventListener("click",(async e=>{e.preventDefault();const t=await(0,o.fetchBySearch)(r.string,1);f=t.total_pages,m=t.total_results;y((0,l.paginationLT)(m,1))}));
//# sourceMappingURL=index.01a1c8d5.js.map
