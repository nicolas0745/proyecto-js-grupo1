{"mappings":"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","sources":["src/js/pagination.js","src/js/pagination-function.js"],"sourcesContent":["import { getTrending, fetchBySearch, fetchById } from './fetch-functions';\nimport { renderMovies, enableModal } from './functions';\nimport { selectedBySearch, string } from './index';\nimport { paginationLT } from './pagination-function';\n\nconst refs = {\n  listado: document.querySelector('.pagnumber'),\n  botonAtras: document.getElementById('atras'),\n  botonSiguiente: document.getElementById('siguiente'),\n  pageOne: document.getElementById('primera'),\n  pageFinal: document.getElementById('ultima'),\n};\n\nconst gallery = document.querySelector('.gallery');\n// const loader = document.querySelector('.dot-spinner');\nconst submit = document.querySelector('.btn');\n\nlet currentPage = 1;\nlet currentPage2 = 1;\nlet totalPag2 = 15;\nlet totalItems;\n\nexport async function firstPagination() {\n  const data = await getTrending(2);\n  totalPag2 = data.total_pages;\n  totalItems = data.total_results;\n  const paginationResult = paginationLT(totalItems, 1);\n  renderPagination(paginationResult);\n}\n\nfirstPagination();\n\nfunction renderAll() {\n  if (selectedBySearch == 0) {\n    const getTrendingMovies = async () => {\n      const data = await getTrending(currentPage);\n      if (data == undefined) return;\n      const { results: movies, total_pages } = data;\n      renderMovies(movies);\n      enableModal(true);\n    };\n    getTrendingMovies();\n  } else {\n    async function renderPage() {\n      string.trim();\n      const data = await fetchBySearch(string, currentPage);\n      const { results: movies, total_pages } = data;\n      renderMovies(movies);\n      enableModal(false);\n    }\n    renderPage();\n  }\n}\n\n// Función para renderizar los números de página en la interfaz\nexport function renderPagination(paginationArray, search) {\n  refs.listado.innerHTML = ''; // Limpiar contenido anterior\n  paginationArray.forEach(item => {\n    const link = document.createElement('button');\n\n    if (item == currentPage) {\n      link.classList.add('main-color');\n    }\n\n    if (item === '...') {\n      link.textContent = '...';\n    } else {\n      link.textContent = item;\n      link.addEventListener('click', () => {\n        currentPage = item;\n        renderAll();\n        const paginationResult = paginationLT(totalItems, currentPage);\n        if (search == true) {\n          enableModal(false);\n          renderPagination(paginationResult, true);\n        } else {\n          renderPagination(paginationResult);\n        }\n      });\n    }\n    refs.listado.appendChild(link);\n  });\n}\n\nrenderPagination(paginationLT(totalItems, currentPage2));\n\n// Asignar eventos a los botones de \"Atrás\" y \"Siguiente\"\nrefs.botonAtras.addEventListener('click', async () => {\n  if (currentPage > 1) {\n    currentPage--;\n    const paginationResult = paginationLT(totalItems, currentPage);\n    renderPagination(paginationResult);\n    renderAll();\n  }\n});\n\nrefs.botonSiguiente.addEventListener('click', async () => {\n  if (currentPage < totalPag2) {\n    currentPage++;\n    const paginationResult = paginationLT(totalItems, currentPage);\n    renderPagination(paginationResult);\n    renderAll();\n  }\n});\n\n/* crear la funcion con total_results */\n\nsubmit.addEventListener('click', async e => {\n  e.preventDefault();\n  const data = await fetchBySearch(string, 1);\n  totalPag2 = data.total_pages;\n  totalItems = data.total_results;\n  currentPage = 1;\n  const paginationResult = paginationLT(totalItems, 1);\n  renderPagination(paginationResult, true);\n});\n","const refs = {\n  listado: document.querySelector('.pagnumber'),\n  botonAtras: document.getElementById('atras'),\n  botonSiguiente: document.getElementById('siguiente'),\n  pageOne: document.getElementById('primera'),\n  pageFinal: document.getElementById('ultima'),\n};\n\nlet totalPag2 = 0;\nlet currentPage = 1;\n\nexport function paginationLT(totalItems, currentPage) {\n  const totalPages = Math.ceil(totalItems / 20);\n  totalPag2 = totalPages;\n  const pagination = [];\n  if (totalPages <= 9) {\n    for (let i = 1; i <= totalPages; i++) {\n      pagination.push(i);\n    }\n  } else {\n    pagination.push(1);\n    if (currentPage > 2) pagination.push('...');\n\n    let start = Math.max(2, currentPage - 1);\n    let end = Math.min(currentPage + 1, totalPages - 1);\n\n    if (currentPage === totalPages - 2) {\n      start = currentPage - 2;\n      end = currentPage;\n    }\n\n    for (let i = start; i <= end; i++) {\n      pagination.push(i);\n    }\n\n    if (currentPage < totalPages - 2) pagination.push('...');\n    pagination.push(totalPages);\n  }\n  return pagination;\n}\n"],"names":["$br7ue","parcelRequire","document","querySelector","getElementById","$b996e0125cc63fcc$var$totalPag2","$b996e0125cc63fcc$export$31c930f682a93eb8","totalItems","currentPage1","totalPages","Math","ceil","pagination","i","push","start","max","end","min","$1bab9c519cfa82bc$var$refs","listado","botonAtras","botonSiguiente","pageOne","pageFinal","$1bab9c519cfa82bc$var$submit","$1bab9c519cfa82bc$var$totalItems","$1bab9c519cfa82bc$var$currentPage","$1bab9c519cfa82bc$var$totalPag2","$1bab9c519cfa82bc$var$renderAll","$btpe3","selectedBySearch","async","data","getTrending","undefined","results","movies","total_pages","$gXu43","renderMovies","enableModal","getTrendingMovies","string","trim","fetchBySearch","renderPage","$1bab9c519cfa82bc$export$825408fbca4f2040","paginationArray","search","innerHTML","forEach","item","link","createElement","classList","add","textContent","addEventListener","paginationResult","appendChild","total_results","$1bab9c519cfa82bc$export$2499202e1f693e68","e","preventDefault"],"version":3,"file":"index.6720de86.js.map"}