!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o);var a=o("bpxeT"),c=o("2TvXO"),i=o("cKDzr");document.querySelector(".pagnumber"),document.getElementById("atras"),document.getElementById("siguiente"),document.getElementById("primera"),document.getElementById("ultima");function u(e,t){var n=Math.ceil(e/20);n;var r=[];if(n<=9)for(var o=1;o<=n;o++)r.push(o);else{r.push(1),t>2&&r.push("...");var a=Math.max(2,t-1),c=Math.min(t+1,n-1);t===n-2&&(a=t-2,c=t);for(var i=a;i<=c;i++)r.push(i);t<n-2&&r.push("..."),r.push(n)}return r}var s=document.querySelector(".btn-watched"),d=document.querySelector(".btn-queue"),l=document.querySelector(".gallery"),v=document.querySelector(".watch"),f=document.querySelector(".queue"),m=0,p={listado:document.querySelector(".pagnumber"),botonAtras:document.getElementById("atras"),botonSiguiente:document.getElementById("siguiente"),pageOne:document.getElementById("primera"),pageFinal:document.getElementById("ultima")},g=1,h="movies",L=function(e,t,n){if(l.innerHTML="",t.length>0){var r=[];t.forEach((function(e){e.page==n&&r.push(e)})),console.log(r),(0,i.renderMovies)(r),e?((0,i.enableModal)(!1),l.addEventListener("click",(function(e){"IMG"==e.target.nodeName&&(m=e.target.id,(0,i.fetchMovieById)(m),document.addEventListener("keyup",i.escKey))}))):(0,i.enableModal)(!0)}},y=function(e){var t=x("movies");w(u(k=t.length,g),"movies"),L(e,t,g)},E=function(e){var t=x("movies-que");w(u(k=t.length,g),"movies-que"),L(e,t,g)};function w(e,t){p.listado.innerHTML="",e.forEach((function(e){var n=document.createElement("button");e==g&&n.classList.add("main-color"),"..."===e?n.textContent="...":(n.textContent=e,n.addEventListener("click",(function(){g=e;var n=x(t);L(!1,n,g),w(u(k,g),t)}))),p.listado.appendChild(n)}))}d.addEventListener("click",(function(e){l.innerHTML="",g=1,d.classList.add("active"),s.classList.remove("active"),h="movies-que",E(!1)})),s.addEventListener("click",(function(){l.innerHTML="",g=1,s.classList.add("active"),d.classList.remove("active"),h="movies",y(!1)})),v.addEventListener("click",e(a)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.reviewLocalStorage)(m,"watched");case 2:s.classList.contains("active")&&y(!1);case 3:case"end":return e.stop()}}),t)})))),f.addEventListener("click",e(a)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.reviewLocalStorage)(m,"queue");case 2:console.log(f),d.classList.contains("active")&&E(!1);case 4:case"end":return e.stop()}}),t)})))),document.addEventListener("DOMContentLoaded",(function(){s.classList.add("active"),y(!0)}));var b=0,q=1;function x(e){var t=JSON.parse(localStorage.getItem(e));return console.log("key"+e),t.forEach((function(e){20==b&&(q++,b=0),b++,e.page=q})),console.log(t),M=q,b=0,q=1,t}var M,k=0;p.botonAtras.addEventListener("click",e(a)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g>1&&(g--,n=x(h),L(!1,n,g),w(u(k,g),h));case 1:case"end":return e.stop()}}),t)})))),p.botonSiguiente.addEventListener("click",e(a)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g<M&&(g++,n=x(h),L(!1,n,g),w(u(k,g),h));case 1:case"end":return e.stop()}}),t)}))))}();
//# sourceMappingURL=mylibrary.7f0df3e3.js.map
